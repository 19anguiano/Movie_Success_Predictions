window.addEventListener('DOMContentLoaded', () => {
  const graphImage = document.getElementById('graphImage');
  const prevButton = document.getElementById('prevButton');
  const nextButton = document.getElementById('nextButton');
  const graphDescription = document.getElementById('graphDescription');
  const rotatingImages = document.getElementById('rotatingImages').children;
  let currentImageIndex = 0;

  const images = [
    'Total Revenue per Month (1950-2020).png',
    'Total Revenue per Release Month (1950-2020).png',
    'Total Revenue and Budget per Month (1950-2023).png',
    'Total Revenue and Budget per Month (2010-2020).png',
    'Total_Budget_per_Month.png',
    'Movies_with_Revenue_Less_Than_Budget.png',
    'Top_20_Underperforming_Movies.png',
    'genre_distribution.png',
    'popularity_vs_revenue.png',
  ];

  // Display initial graph and description
  graphImage.src = `assets/img/${images[currentImageIndex]}`;
  graphDescription.textContent = getDescription(currentImageIndex);

  // Button click event handlers
  prevButton.addEventListener('click', () => {
    currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
    graphImage.src = `assets/img/${images[currentImageIndex]}`;
    graphDescription.textContent = getDescription(currentImageIndex);
  });

  nextButton.addEventListener('click', () => {
    currentImageIndex = (currentImageIndex + 1) % images.length;
    graphImage.src = `assets/img/${images[currentImageIndex]}`;
    graphDescription.textContent = getDescription(currentImageIndex);
  });

  // Get description for current image
  function getDescription(index) {
    switch (index) {
      case 0:
        return 'The graph illustrates the total revenue generated by movies on a monthly basis from 1950 to 2020. It provides insights into the revenue trends over time, allowing viewers to identify any patterns, seasonal variations, or notable spikes in movie revenue.';
      case 1:
        return 'The graph showcases the total revenue generated by movies categorized according to their release months from 1950 to 2020. It helps visualize whether certain months are more lucrative for movie releases and provides an understanding of the revenue distribution across different release months.';
      case 2:
        return 'The graph illustrates the total revenue and budget of movies on a monthly basis from 1950 to 2023. It provides insights into the financial performance of the movie industry over several decades, allowing viewers to analyze the revenue and budget trends over time.';
      case 3:
        return 'The graph displays the total revenue and budget of movies on a monthly basis from 2010 to 2020. It focuses on the more recent decade, providing a closer look at the financial trends within this specific timeframe. Viewers can analyze the revenue and budget variations to gain insights into the financial dynamics of the movie industry during this period.';
      case 4:
        return 'The graph represents the total budget allocated to movies on a monthly basis. It showcases the distribution of budgets across different months, providing insights into the investment patterns within the movie industry. By analyzing this graph, viewers can identify any trends or fluctuations in budget allocation over time, helping them understand the financial aspects of movie production.';
      case 5:
        return 'The graph showcases movies that have generated revenue lower than their respective budgets. It highlights instances where the revenue falls short of the production costs, offering insights into movies that may have underperformed financially.';
      case 6:
        return 'The graph presents the top 20 underperforming movies in terms of their revenue compared to expectations or industry standards. It provides a visual representation of movies that failed to meet projected revenue or performed below average, allowing viewers to identify any common characteristics or trends among these movies.';
      case 7:
        return 'The graph visually represents the distribution of movies across different genres. It provides insights into how the quantity of movies is dispersed among various genres within a given dataset. By examining this graph, one can gain a better understanding of the overall composition and diversity of movies in terms of their genres.';
      case 8:
        return 'The graph presents a visual representation of the relationship between the popularity and revenue of movies within a dataset. It allows viewers to observe the correlation between movie popularity and its revenue, providing insights into the commercial performance and audience reception of movies.';
      default:
        return '';
    }
  }
});
